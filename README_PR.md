# سیستم پیشنهاددهنده سفارش (Recommender System)

این پروژه یک سیستم پیشنهاددهنده سفارش برای مشتریان است که با استفاده از داده‌های خرید قبلی، تعداد فاکتورهای ثبت‌شده و شباهت مشتریان در یک شعاع جغرافیایی مشخص، کالاهای مناسب را به هر مشتری پیشنهاد می‌دهد.

## ویژگی‌ها
- محاسبه شباهت مشتریان بر اساس سوابق خرید و موقعیت جغرافیایی (lat, long)
- محدود کردن تعداد فاکتور هر کالا با پارامتر `cv`
- ارائه n کالای پیشنهادی به هر مشتری با پارامتر `n`
- استفاده از الگوریتم Haversine برای محاسبه فاصله بین مشتریان
- پردازش موازی داده‌ها برای افزایش سرعت
- ذخیره نتایج در فایل اکسل و پایگاه داده MySQL

## نحوه اجرا
1. فایل‌های داده (`data.xlsx` و `data2.xlsx`) را در کنار کد قرار دهید.
2. اطلاعات اتصال به پایگاه داده را در ابتدای کد تنظیم کنید.
3. اسکریپت را اجرا کنید:
   ```powershell
   python main.py
   ```
4. خروجی در فایل `output_file.xlsx` و جدول `recomender` در پایگاه داده ذخیره می‌شود.

## توضیح پارامترها
- `cv`: حداکثر تعداد فاکتور برای هر کالا (سقف تعداد خرید هر کالا برای هر مشتری)
- `n`: تعداد کالاهایی که به عنوان پیشنهاد به مشتری ارائه می‌شود
- کد مشتری: شناسه یکتای هر مشتری برای دریافت پیشنهاد
- جداول داده: شامل اطلاعات خرید مشتریان و موقعیت جغرافیایی آن‌ها

## وابستگی‌ها
- pandas
- numpy
- dask
- tqdm
- sqlalchemy
- pymysql

برای نصب وابستگی‌ها:
```powershell
pip install pandas numpy dask tqdm sqlalchemy pymysql
```

## کاربرد
این سیستم مناسب فروشگاه‌ها و کسب‌وکارهایی است که می‌خواهند بر اساس رفتار خرید مشتریان و موقعیت مکانی، پیشنهادهای شخصی‌سازی‌شده ارائه دهند و فروش خود را افزایش دهند.
